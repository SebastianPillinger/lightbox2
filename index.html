<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram-ähnliche Galerie</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }
        body {
            background: #fafafa;
        }
        .gallery-container {
            max-width: 600px;
            margin: 20px auto;
            background: #fff;
            border: 1px solid #dbdbdb;
            border-radius: 8px;
        }
        .gallery-image {
            position: relative;
            width: 100%;
            height: 600px;
            overflow: hidden;
            touch-action: pan-y; /* Wichtig für Touch-Gesten */
        }
        .gallery-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: none;
            user-select: none; /* Verhindert Bildauswahl beim Swipen */
        }
        .gallery-image img.active {
            display: block;
            animation: fadeIn 0.3s;
        }
        @keyframes fadeIn {
            from { opacity: 0.8; }
            to { opacity: 1; }
        }
        .gallery-nav {
            display: flex;
            justify-content: space-between;
            padding: 10px 15px;
        }
        .gallery-nav button {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
        }
        .gallery-indicators {
            display: flex;
            justify-content: center;
            gap: 6px;
            padding: 10px 0;
        }
        .indicator {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #a8a8a8;
            transition: all 0.3s;
        }
        .indicator.active {
            background: #0095f6;
            width: 16px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="gallery-container">
        <div class="gallery-image">
            <img src="bild1.jpg" class="active" alt="Bild 1">
            <img src="bild2.jpg" alt="Bild 2">
            <img src="bild3.jpg" alt="Bild 3">
        </div>
        <div class="gallery-nav">
            <button id="prev-btn">‹</button>
            <button id="next-btn">›</button>
        </div>
        <div class="gallery-indicators">
            <span class="indicator active" data-index="0"></span>
            <span class="indicator" data-index="1"></span>
            <span class="indicator" data-index="2"></span>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const gallery = document.querySelector('.gallery-image');
            const images = document.querySelectorAll('.gallery-image img');
            const indicators = document.querySelectorAll('.indicator');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            let currentIndex = 0;
            let startX, moveX;
            const swipeThreshold = 50;

            // Bildwechsel-Funktion
            function showImage(index) {
                images.forEach(img => img.classList.remove('active'));
                images[index].classList.add('active');
                
                indicators.forEach(ind => ind.classList.remove('active'));
                indicators[index].classList.add('active');
                
                currentIndex = index;
            }

            // Button-Klicks
            prevBtn.addEventListener('click', () => {
                const newIndex = (currentIndex - 1 + images.length) % images.length;
                showImage(newIndex);
            });
            
            nextBtn.addEventListener('click', () => {
                const newIndex = (currentIndex + 1) % images.length;
                showImage(newIndex);
            });

            // Touch-Gesten (Mobile)
            gallery.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
            });

            gallery.addEventListener('touchmove', (e) => {
                if (!startX) return;
                moveX = e.touches[0].clientX;
            });

            gallery.addEventListener('touchend', () => {
                if (!startX || !moveX) return;
                
                const diffX = startX - moveX;
                
                if (diffX > swipeThreshold) {
                    nextBtn.click(); // Swipe nach links → nächstes Bild
                } else if (diffX < -swipeThreshold) {
                    prevBtn.click(); // Swipe nach rechts → vorheriges Bild
                }
                
                startX = null;
                moveX = null;
            });

            // Maus-Swipe (Desktop)
            gallery.addEventListener('mousedown', (e) => {
                startX = e.clientX;
            });

            gallery.addEventListener('mouseup', (e) => {
                if (!startX) return;
                
                const diffX = startX - e.clientX;
                
                if (diffX > swipeThreshold) {
                    nextBtn.click();
                } else if (diffX < -swipeThreshold) {
                    prevBtn.click();
                }
                
                startX = null;
            });

            // Tastatursteuerung (Pfeiltasten)
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') prevBtn.click();
                if (e.key === 'ArrowRight') nextBtn.click();
            });
        });
    </script>
</body>
</html>
